## 音频

暂时跳过

## 对话框

* 导入字体：asset store里下载->将字体拖入dialog panel的字体属性。
* 走到房子的门触发显示对话框：
  * 为dialog取消勾选active，使其默认不显示。
  * 为house添加box collider，大小只与门相当，作为trigger。
  * unity中为玩家添加Player tag，为house添加script，将dialog添加为field，通过onTriggerEnter2D中collision判断，碰到tag为player时，将dialog `SetActive(true)`。
  * 玩家离开时，同理，通过OnTriggerExit2D方法，将dialog的active设置为false。

### 渐入效果-录制动画

* 点击录制，选择时间，设置颜色透明度等，形成关键帧。注意点击录制后，切换元素只能使用左侧hierarchy窗口，不能直接在屏幕上点击，否则会关闭录制。

## 下蹲Crouch功能

* Edit->Project Setting->Input Manager中添加下蹲crouch:

  * 选择jump->duplicate array element

  * 下蹲后collider调整：

    * 将头部collider作为headerCollider field保存。

    * 下蹲时，将`headerCollider.enable=false`，不启用。

      下蹲结束后，将`headerCollider.enable=true`，重新启用。

    * 解决趴下移动至头顶有物体时站起问题：

      * 在player中创建一个ceiling object，用于标记头顶的位置。
      * 通过`Physical2D.OverlapCircle`方法，以ceiling为圆心，画圆，判断是否具备站起的条件。

## 场景控制

### 死亡功能

* 创建deadline：
  * 创建一个empty object，命名为deadline， 拉到和场景一样长，放在场景下面，作为触发死亡的trigger。
  * 重新加载场景：
    * using UnityEngine.SceneManagement;
    * `SceneManager.LoadScene(场景名称)`方法加载场景，
    * SceneManager.GetActiveScene().name 获取当前场景名称。
